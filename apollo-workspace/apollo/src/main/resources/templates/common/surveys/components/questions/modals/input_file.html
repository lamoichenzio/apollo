<html xmlns:th="http://www.thymeleaf.org">

<body>
<div class="input-file-container" th:fragment="inputfile">

	<div id="accordion-file" class="accordion accordion-spaced">

		<div class="card border shadow-none">
			<div class="card-header shadow-none no-border force-padding-10 bg-primary text-white" id="heading-1-3" data-toggle="collapse" role="button" data-target="#collapse-file-input" aria-expanded="false" aria-controls="collapse-file-input">
				<div class="mb-0 form-control-label text-white">
					<i class="far fa-cog mr-3"></i>
					[[#{question.advanced}]]
				</div>
			</div>
			<div id="collapse-file-input" class="collapse" aria-labelledby="heading-1-3" data-parent="#accordion-file">
				<div class="card-body shadow-none">

					<!--Creation case-->
					<div class="form-control-label">
						<input type="file" id="questionfile" name="questionfile" class="custom-input-file" th:value="${questionfile}" accept="image/*"/>
						<label for="questionfile"><i class="fa fa-upload"></i><span id="questionfile_label" th:text="#{file.label}"></span>
						</label>
						<span id="file_error" class="text-danger text-sm hidden"></span>
					</div>

					<!--Update case-->
					<div class="form-control-label mt-2" th:if="${question.id != null}">
						<div th:if="${question.file != null}">
							<input type="hidden" th:field="*{file}"/>
							<small>
								File: [[*{file.name}]]
							</small>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script th:inline="javascript">

		$(document).ready(function () {
			document.getElementById('questionfile').onchange = function () {
				var filename = this.files[0].name;
				var label = document.getElementById('questionfile_label');
				label.innerText = filename;
				console.log('Selected file: ' + filename);


			};
		});

	</script>
</div>


</body>

</html>