<html xmlns:th="http://www.thymeleaf.org">
<body>
<!-- MODAL NEW SURVEY -->
<div class="modal fade" id="modal-create-new-survey" tabindex="-1" role="dialog" aria-hidden="true"
     th:fragment="surveyForm">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title align-items-center">
                    <!-- MODAL TITLE -->
                    <h6 th:if="${#request.getRequestURI().endsWith('create')}" class="mb-0" th:text="#{survey.create}"></h6>
                    <h6 th:if="${#request.getRequestURI().endsWith('update')}" class="mb-0" th:text="#{survey.edit}"></h6>
                </div>
            </div>

            <form id="survey_form" th:action="${#request.getRequestURI()}"
                  th:object="${survey}" class="form-horizontal" method="post">

                <!-- update case -->
                <input th:if="${survey.id != null}" type="hidden" name="id" th:value="${survey.id}" th:fields="*{id}" />
                
                <div class="modal-body">

                    <!-- TITLE -->
                    <div class="form-group">
                        <label for="name" class="form-control-label"
                               th:text="#{survey.name}"></label>
                        <input type="text" th:field="*{name}" class="form-control" required/>
                        <span th:if="${#fields.hasErrors('name')}"
                              th:each="err: ${#fields.errors('name')}" th:utext="${err}"></span>
                    </div>

                    <!-- DESCRIPTION -->
                    <div class="form-group">
                        <label for="description" class="form-control-label"
                               th:text="#{survey.description}"></label>
                        <input type="text" th:field="*{description}" class="form-control"/>
                        <span th:if="${#fields.hasErrors('description')}"
                              th:each="err: ${#fields.errors('description')}" th:utext="${err}"></span>
                    </div>
                    
                    <!--  DATE -->
                  	<div class="form-group">
						<label for="startDate" class="form-control-label" th:text="#{survey.startDate}"></label>
                        <input type="date" name="startDate" th:field="*{startDate}" class="form-control col-sm-6"/>
                        <span th:if="${#fields.hasErrors('startDate')}" th:each="err: ${#fields.errors('startDate')}" th:utext="${err}"></span>
					</div>
					<div class="form-group">
						<label for="endDate" class="form-control-label" th:text="#{survey.endDate}"></label>
                        <input type="date" name="endDate" th:field="*{endDate}" class="form-control col-sm-6"/>
                        <span th:if="${#fields.hasErrors('endDate')}" th:each="err: ${#fields.errors('endDate')}" th:utext="${err}"></span>
                    </div>
                    
                    <!-- SECRET -->
                    <div class="form-group custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" name="secret" th:field="*{secret}"/>
                        <label class="form-control-label custom-control-label" for="secret" th:text="#{survey.secret}"></label>
                        <span th:if="${#fields.hasErrors('secret')}" th:each="err: ${#fields.errors('secret')}" th:utext="${err}"></span>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-sm btn-link text-danger" data-dismiss="modal">[[#{common.cancel}]]</button>
                    <button id="survey_submit" type="submit" class="btn btn-sm btn-primary rounded-pill" th:text="#{common.submit}"></button>
                </div>

            </form>

        </div>

    </div>
</div>
</body>
</html>
